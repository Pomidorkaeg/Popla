var k=Object.defineProperty,I=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var N=(t,r,n)=>r in t?k(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,i=(t,r)=>{for(var n in r||(r={}))P.call(r,n)&&N(t,n,r[n]);if(w)for(var n of w(r))R.call(r,n)&&N(t,n,r[n]);return t},c=(t,r)=>I(t,M(r));import{j as e,r as U,n as z,o as A}from"./ui-vendor.js";import{e as Y,r as d}from"./react-vendor.js";import{g as q}from"./coachOperations.js";import{a as F}from"./teamsData.js";import{D as b,n as O,B as g,k as T,l as D,m as y,L as o,I as h,C as V,e as W,T as J,f as K,g as S,h as j,i as Q,j as u}from"./index.js";import"./query.js";const ne=()=>{const[t]=Y(),r=t.get("team")||"gudauta",[n,f]=d.useState([]),[C,X]=d.useState("");d.useState(!1),d.useState(null);const[a,m]=d.useState({}),[p,v]=d.useState(!1),[l,x]=d.useState(null);F(r),d.useEffect(()=>{const s=q(r);f(s)},[r]),n.filter(s=>s.name.toLowerCase().includes(C.toLowerCase())||s.role.toLowerCase().includes(C.toLowerCase()));const G=()=>{if(a.name&&a.role&&a.team){const s={id:Date.now().toString(),name:a.name,role:a.role,team:a.team,image:a.image||"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:new Date().getFullYear().toString(),experience:a.experience||0,biography:"",teamId:r};f([...n,s]),m({})}},L=s=>{x(s),v(!0)},B=()=>{l&&(f(n.map(s=>s.id===l.id?l:s)),v(!1),x(null))},E=s=>{f(n.filter(H=>H.id!==s))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Управление тренерами"}),e.jsxs(b,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(g,{className:"bg-gradient-to-r from-fc-green to-fc-lightGreen text-white hover:from-fc-green/90 hover:to-fc-lightGreen/90",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Добавить тренера"]})}),e.jsxs(T,{className:"sm:max-w-[425px]",children:[e.jsx(D,{children:e.jsx(y,{children:"Добавление нового тренера"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Имя"}),e.jsx(h,{value:a.name||"",onChange:s=>m(c(i({},a),{name:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Должность"}),e.jsx(h,{value:a.role||"",onChange:s=>m(c(i({},a),{role:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Команда"}),e.jsx(h,{value:a.team||"",onChange:s=>m(c(i({},a),{team:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Опыт работы"}),e.jsx(h,{value:a.experience||"",onChange:s=>m(c(i({},a),{experience:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"URL изображения"}),e.jsx(h,{value:a.image||"",onChange:s=>m(c(i({},a),{image:s.target.value}))})]}),e.jsx(g,{onClick:G,className:"w-full bg-gradient-to-r from-fc-green to-fc-lightGreen text-white hover:from-fc-green/90 hover:to-fc-lightGreen/90",children:"Добавить"})]})]})]})]}),e.jsx(V,{className:"border-0 shadow-lg",children:e.jsx(W,{className:"p-6",children:e.jsxs(J,{children:[e.jsx(K,{children:e.jsxs(S,{children:[e.jsx(j,{children:"Имя"}),e.jsx(j,{children:"Должность"}),e.jsx(j,{children:"Команда"}),e.jsx(j,{children:"Опыт работы"}),e.jsx(j,{className:"text-right",children:"Действия"})]})}),e.jsx(Q,{children:n.map(s=>e.jsxs(S,{children:[e.jsx(u,{className:"font-medium",children:s.name}),e.jsx(u,{children:s.role}),e.jsx(u,{children:s.team}),e.jsx(u,{children:s.experience}),e.jsx(u,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{variant:"outline",size:"icon",onClick:()=>L(s),className:"hover:bg-fc-green/10",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(g,{variant:"outline",size:"icon",onClick:()=>E(s.id),className:"hover:bg-red-500/10",children:e.jsx(A,{className:"h-4 w-4"})})]})})]},s.id))})]})})}),p&&l&&e.jsx(b,{open:p,onOpenChange:v,children:e.jsxs(T,{className:"sm:max-w-[425px]",children:[e.jsx(D,{children:e.jsx(y,{children:"Редактирование тренера"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Имя"}),e.jsx(h,{value:l.name,onChange:s=>x(c(i({},l),{name:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Должность"}),e.jsx(h,{value:l.role,onChange:s=>x(c(i({},l),{role:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Команда"}),e.jsx(h,{value:l.team,onChange:s=>x(c(i({},l),{team:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Опыт работы"}),e.jsx(h,{value:l.experience||"",onChange:s=>x(c(i({},l),{experience:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"URL изображения"}),e.jsx(h,{value:l.image||"",onChange:s=>x(c(i({},l),{image:s.target.value}))})]}),e.jsx(g,{onClick:B,className:"w-full bg-gradient-to-r from-fc-green to-fc-lightGreen text-white hover:from-fc-green/90 hover:to-fc-lightGreen/90",children:"Сохранить"})]})]})})]})};export{ne as default};
